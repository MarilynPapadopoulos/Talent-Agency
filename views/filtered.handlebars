<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
<link rel="stylesheet" href="/stylesheets/filter-style.css">

<!--filter parameter container-->
<div class="page-container">
    <div class="mb-3 filter-container">
        <img src="/images/logo.png" alt="TLNT logo">
        <button id="signout-button" type="submit">Sign Out</button>
        <h4>Filters</h4>
        <!--filter parameters-->
        <div class="row">
            <div class="input-field col s12">
                <select id="gender">
                    <option {{#checkEqual filters.gender "" }} selected {{/checkEqual}} value=""> - no filter -
                    </option>
                    <option{{#checkEqual filters.gender "male" }} selected {{/checkEqual}} value="male">Male</option>
                        <option {{#checkEqual filters.gender "female" }} selected {{/checkEqual}} value="female">Female
                        </option>
                        <option {{#checkEqual filters.gender "other" }} selected {{/checkEqual}} value="other">
                            Non-Binary</option>
                </select>
                <label>Gender</label>
            </div>

            <div class="input-field col s12 ">
                <input id="age" type="number" class="validate" {{#if filters.age}} value={{filters.age}} {{/if}}>
                <label for="age">Age</label>
            </div>

            <div class="input-field col s12 ">
                <input id="height" type="number" class="validate" {{#if filters.height}}
                    value={{filters.height}}{{/if}}>
                <label for="height">Height</label>
            </div>

            <div class="input-field col s12">
                <input id="weight" type="number" class="validate" {{#if filters.weight}}
                    value={{filters.weight}}{{/if}}>
                <label for="weight">Weight</label>
            </div>

            <div class="input-field col s12">
                <select id="eye-colour">
                    <option {{#checkEqual filters.eye_colour "" }} selected {{/checkEqual}} value=""> - no filter -
                    </option>
                    <option {{#checkEqual filters.eye_colour "brown" }} selected {{/checkEqual}} value="brown">Brown
                    </option>
                    <option {{#checkEqual filters.eye_colour "blue" }} selected {{/checkEqual}} value="blue">Blue
                    </option>
                    <option {{#checkEqual filters.eye_colour "green" }} selected {{/checkEqual}} value="green">Green
                    </option>
                    <option {{#checkEqual filters.eye_colour "hazel" }} selected {{/checkEqual}} value="hazel">Hazel
                    </option>
                    <option {{#checkEqual filters.eye_colour "gray" }} selected {{/checkEqual}} value="gray">Gray
                    </option>
                    <option {{#checkEqual filters.eye_colour "amber" }} selected {{/checkEqual}} value="amber">Amber
                    </option>
                </select>
                <label>Eye Colour</label>
            </div>

            <div class="input-field col s12">
                <input id="hair-colour" type="text" class="validate" {{#if filters.hair_colour}}
                    value={{filters.hair_colour}}{{/if}}>
                <label for="hair-colour">Hair Colour</label>
            </div>

            <div class="input-field col s12">
                <input id="size" type="text" class="validate" {{#if filters.size}} value={{filters.size}}{{/if}}>
                <label for="size">Size</label>
            </div>

            <div class="input-field col s12">
                <input id="complexion" type="text" class="validate" {{#if filters.complexion}}
                    value={{filters.complexion}}{{/if}}>
                <label for="complexion">Complexion</label>
            </div>

        </div>

        <div class="row">
            {{!-- I took this out for now since it is harder to query for values with multiple words --}}
            {{!-- <div class="input-field col s12">
                <input id="skills" type="text" class="validate">
                <label for="skills">Skills</label>
            </div> --}}
            <!--language radios-->
            <form action="#">
                <p>
                    <label class="radio">
                        <input id="speaks-french" name="group1" type="checkbox" {{#if filters.speak_french}}
                            checked{{/if}} />
                        <span>Speaks French</span>
                    </label>

                    <label class="radio">
                        <input id="speaks-spanish" name="group1" type="checkbox" {{#if filters.speak_spanish}}
                            checked{{/if}} />
                        <span>Speaks Spanish</span>
                    </label>

                    <label class="radio">
                        <input id="speaks-italian" name="group1" type="checkbox" {{#if filters.speak_italian}}
                            checked{{/if}} />
                        <span>Speaks Italian</span>
                    </label>

                    <label class="radio">
                        <input id="speaks-mandarin" name="group1" type="checkbox" {{#if filters.speak_mandarin}}
                            checked{{/if}} />
                        <span>Speaks Mandarin</span>
                    </label>
                </p>
            </form>
            <!--button-->
            <div class="d-grid gap-2 col-6 mx-auto">
                <button class="btn btn-primary" type="button" id="filter-button">Filter</button>
            </div>
        </div>

        <!--result container-->
        <div class="mb-3 filtered">
            <h4>Results</h4>
            <div class="row card-container">
                <!--member cards-->
                {{#each users as |user|}}
                <div class="card">
                    <div class="card-image waves-effect waves-block waves-light">
                        <img class="activator" src="/images/logo.png">
                    </div>
                    <div class="card-content">
                        <span class="card-title activator grey-text text-darken-4">{{user.first_name}}
                            {{user.last_name}}<i class="material-icons right"></i></span>
                    </div>
                    <div class="card-reveal">
                        <span class="card-title grey-text text-darken-4">Profile Name<i
                                class="material-icons right"></i></span>
                        <p>click link below to email TLNT member</p>
                        <p><a href="mailto:{{user.email}}">Profile Email</a></p>
                    </div>
                </div>
                {{/each}}

            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var elems = document.querySelectorAll('select');
        var instances = M.FormSelect.init(elems, {});
    });
</script>

<script src="/javascript/logout.js"></script>
<script src="/javascript/filter.js"></script>